import{a as T,p as B}from"./motion-utils-DBsP9okC.js";const D=T(()=>window.ScrollTimeline!==void 0);class ${constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(s=>D()&&s.attachTimeline?s.attachTimeline(t):n(s));return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class j extends ${then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function q(e,t){return e?e[t]||e.default||e:void 0}const v=2e4;function F(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<v;)t+=n,r=e.next(t);return t>=v?1/0:t}function H(e){return typeof e=="function"}function R(e,t){e.timeline=t,e.onfinish=null}const L=e=>Array.isArray(e)&&typeof e[0]=="number",C={linearEasing:void 0};function N(e,t){const n=T(e);return()=>{var r;return(r=C[t])!==null&&r!==void 0?r:n()}}const E=N(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),S=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=e(B(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function z(e){return!!(typeof e=="function"&&E()||!e||typeof e=="string"&&(e in g||E())||L(e)||Array.isArray(e)&&e.every(z))}const d=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,g={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:d([0,.65,.55,1]),circOut:d([.55,0,1,.45]),backIn:d([.31,.01,.66,-.59]),backOut:d([.33,1.53,.69,.99])};function K(e,t){if(e)return typeof e=="function"&&E()?S(e,t):L(e)?d(e):Array.isArray(e)?e.map(n=>K(n,t)||g.easeOut):g[e]}const a={x:!1,y:!1};function x(){return a.x||a.y}function M(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;t&&(s=t.current);const i=(r=n==null?void 0:n[e])!==null&&r!==void 0?r:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function k(e,t){const n=M(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function A(e){return t=>{t.pointerType==="touch"||x()||e(t)}}function X(e,t,n={}){const[r,s,i]=k(e,n),h=A(o=>{const{target:u}=o,l=t(o);if(!l||!u)return;const f=A(m=>{l(m),u.removeEventListener("pointerleave",f)});u.addEventListener("pointerleave",f,s)});return r.forEach(o=>{o.addEventListener("pointerenter",h,s)}),i}const G=(e,t)=>t?e===t?!0:G(e,t.parentElement):!1,U=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,W=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function O(e){return W.has(e.tagName)||e.tabIndex!==-1}const p=new WeakSet;function w(e){return t=>{t.key==="Enter"&&e(t)}}function y(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const V=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=w(()=>{if(p.has(n))return;y(n,"down");const s=w(()=>{y(n,"up")}),i=()=>y(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function P(e){return U(e)&&!x()}function J(e,t,n={}){const[r,s,i]=k(e,n),h=o=>{const u=o.currentTarget;if(!P(o)||p.has(u))return;p.add(u);const l=t(o),f=(c,I)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",b),!(!P(c)||!p.has(u))&&(p.delete(u),l&&l(c,{success:I}))},m=c=>{f(c,n.useGlobalTarget||G(u,c.target))},b=c=>{f(c,!1)};window.addEventListener("pointerup",m,s),window.addEventListener("pointercancel",b,s)};return r.forEach(o=>{!O(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(n.useGlobalTarget?window:o).addEventListener("pointerdown",h,s),o.addEventListener("focus",l=>V(l,s),s)}),i}function Q(e){return e==="x"||e==="y"?a[e]?null:(a[e]=!0,()=>{a[e]=!1}):a.x||a.y?null:(a.x=a.y=!0,()=>{a.x=a.y=!1})}export{j as G,L as a,K as b,F as c,R as d,z as e,q as f,S as g,U as h,H as i,Q as j,X as k,v as m,J as p,E as s};
