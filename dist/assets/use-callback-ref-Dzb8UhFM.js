import{r as f}from"./react-VWm1Us2J.js";function c(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function s(t,e){var n=f.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(a){var u=n.value;u!==a&&(n.value=a,n.callback(a,u))}}}})[0];return n.callback=e,n.facade}var v=typeof window<"u"?f.useLayoutEffect:f.useEffect,i=new WeakMap;function d(t,e){var n=s(e||null,function(a){return t.forEach(function(u){return c(u,a)})});return v(function(){var a=i.get(n);if(a){var u=new Set(a),o=new Set(t),l=n.current;u.forEach(function(r){o.has(r)||c(r,null)}),o.forEach(function(r){u.has(r)||c(r,l)})}i.set(n,t)},[t]),n}export{d as u};
